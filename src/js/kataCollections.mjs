const module_onboarding = [
  {
    "id": "57a0e5c372292dd76d000d7e",
    "name": "String repeat"
  },
  {
    "id": "50ee6b0bdeab583673000025",
    "name": "Basic variable assignment"
  },
  {
    "id": "555086d53eac039a2a000083",
    "name": "Opposites Attract"
  },
  {
    "id": "55c90cad4b0fe31a7200001f",
    "name": "String Templates - Bug Fixing #5"
  }
];

const module_structuring_and_testing_data = [
  {
    id: "57eadb7ecd143f4c9c0000a3",
    name: "Abbreviate a Two Word Name"
  },
  {
    id: "55f9bca8ecaa9eac7100004a",
    name: "Beginner Series #2 Clock"
  },
  {
    id: "54d1c59aba326343c80000e7",
    name: "Incorrect division method"
  },
  {
    id: "56dec885c54a926dcd001095",
    name: "Opposite number"
  },
  {
    id: "57a429e253ba3381850000fb",
    name: "Calculate BMI"
  },
  {
    id: "59b0a6da44a4b7080300008a",
    name: "Converting 12-hour time to 24-hour time"
  },
  {
    id: "53ee5429ba190077850011d4",
    name: "You Can't Code Under Pressure #1"
  },
  {
    id: "53da3dbb4a5168369a0000fe",
    name: "Even or Odd"
  },
  {
    id: "574e4175ff5b0a554a00000b",
    name: "Convert Improper Fraction to Mixed Numeral"
  },
  {
    id: "57356c55867b9b7a60000bd7",
    name: "Basic Mathematical Operations"
  },
  {
    id: "57089707fe2d01529f00024a",
    name: "Grasshopper - If/else syntax debug"
  },
  {
    id: "5861d28f124b35723e00005e",
    name: "Will you make it?"
  },
  {
    id: "574b3b1599d8f897470018f6",
    name: "What's the real floor?"
  },
  {
    id: "57d1f36705c186d018000813",
    name: "Hells Kitchen"
  },
  {
    id: "5a2fd38b55519ed98f0000ce",
    name: "Multiplication table for number"
  },
  {
    id: "5672a98bdbdd995fad00000f",
    name: "Rock Paper Scissors!"
  },
  {
    id: "56dae9dc54c0acd29d00109a",
    name: "Grasshopper - Function syntax debugging"
  },
  {
    id: "582e4c3406e37fcc770001ad",
    name: "ES6 string addition"
  },
  {
    id: "5265326f5fda8eb1160004c8",
    name: "Convert a Number to a String!"
  }
];

const module_data_groups = [
  {
    id: "55edaba99da3a9c84000003b",
    name: "Find numbers which are divisible by given number"
  },
  {
    id: "5648b12ce68d9daa6b000099",
    name: "Number of People in the Bus"
  },
  {
    id: "57a429e253ba3381850000fb",
    name: "Calculate BMI"
  },
  {
    id: "55c933c115a8c426ac000082",
    name: "Switch/Case - Bug Fixing #6"
  },
  {
    id: "5467e4d82edf8bbf40000155",
    name: "Descending Order"
  },
  {
    id: "559590633066759614000063",
    name: "The highest profit wins!"
  },
  {
    id: "56c22c5ae8b139416c00175d",
    name: "Job Matching #1"
  },
  {
    id: "578c1e2edaa01a9a02000b7f",
    name: "Crash Override"
  },
  {
    id: "57ced2c1c6fdc22123000316",
    name: "Numbers  to Objects"
  },
  {
    id: "5641275f07335295f10000d0",
    name: "Split The Bill"
  },
  {
    id: "527b3cd0492b6b15250060af",
    name: "Push a hash/an object into array"
  },
  {
    id: "56c2578be8b139bd5c001bd8",
    name: "Job Matching #2"
  },
  {
    id: "5672a98bdbdd995fad00000f",
    name: "Rock Paper Scissors!"
  },
  {
    id: "57e76bc428d6fbc2d500036d",
    name: "Convert a string to an array"
  },
  {
    id: "51fd6bc82bc150b28e0000ce",
    name: "No oddities here"
  }
];

const module_data_flow = [
  {
    "id": "56bc28ad5bdaeb48760009b0",
    "name": "Remove First and Last Character"
  },
  {
    "id": "55d2603d506a40e162000056",
    "name": "Reducing Problems - Bug Fixing #8"
  },
  {
    "id": "56dae9dc54c0acd29d00109a",
    "name": "Grasshopper - Function syntax debugging"
  },
  {
    "id": "56214b6864fe8813f1000019",
    "name": "Grasshopper - Bug Squashing"
  },
  {
    "id": "5b61d6ef07a266d40b000097",
    "name": "A Promise is a Promise"
  },
  {
    "id": "5388f0e00b24c5635e000fc6",
    "name": "Swap Values"
  },
  {
    "id": "566dc05f855b36a031000048",
    "name": "Add new item (collections are passed by reference)"
  },
  {
    "id": "56c2a067585d9ac8280003c9",
    "name": "Job Matching #3"
  },
  {
    "id": "56b71b1dbd06e6d88100092a",
    "name": "Understanding closures - the basics"
  },
  {
    "id": "54b7c8d2cd7f51a839000ebf",
    "name": "Easy mathematical callback"
  },
  {
    "id": "52a723508a4d96c6c90005ba",
    "name": "99 Bottles of Beer"
  },
  {
    "id": "5b6375f707a2664ada00002a",
    "name": "Who's Online?"
  },
  {
    "id": "59441520102eaa25260000bf",
    "name": "5 without numbers !!"
  },
  {
    "id": "587593285448632b8d000143",
    "name": "Promises Made and Broken: The Misadventures of Bob the Highly Paid Consultant"
  }
];

const kataCollections = [
  {
    name: "ITP: Module Onboarding",
    acceptedLanguages: ["JavaScript"],
    katas: module_onboarding
  },  
  {
    name: "ITP: Module Structuring and Testing Data",
    acceptedLanguages: ["JavaScript"],
    katas: module_structuring_and_testing_data
  },
  {
    name: "ITP: Module Data Groups",
    acceptedLanguages: ["JavaScript"],
    katas: module_data_groups
  },
  {
    name: "ITP: Module Data Flow",
    acceptedLanguages: ["JavaScript"],
    katas: module_data_flow
  }  
];

export function cloneKataCollections() {
  const clonedCollections = JSON.parse(JSON.stringify(kataCollections));

  clonedCollections.forEach((collection) => {
    // Normalize language names (for comparison)
    // If not defined, default to an empty array to mean "any language"
    collection.acceptedLanguages =
      collection?.acceptedLanguages.map((lang) => lang.toLowerCase()) || [];

    collection.katas.forEach((kata) => {
      kata.completed = false;
    });

    collection.completedCount = 0;
    collection.totalCount = collection.katas.length;
  });

  return clonedCollections;
}
